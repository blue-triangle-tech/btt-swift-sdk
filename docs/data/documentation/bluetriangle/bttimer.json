{"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To measure the duration of a user interaction, initialize a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/Page"},{"type":"text","text":" object describing that interation and pass it to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BlueTriangle\/startTimer(page:timerType:)"},{"type":"text","text":" to receive a running timer instance."}]},{"type":"codeListing","syntax":"swift","code":["let page = Page(pageName: \"MY_PAGE\")","let timer = BlueTriangle.startTimer(page: page)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you need to defer the start of the timer, use "},{"type":"reference","isActive":true,"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BlueTriangle\/makeTimer(page:timerType:)"},{"type":"text","text":" and call the returned timer’s "},{"type":"reference","isActive":true,"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/start()"},{"type":"text","text":" method when you are ready to start timing:"}]},{"type":"codeListing","syntax":"swift","code":["let page = Page(pageName: \"MY_PAGE\")","let timer = BlueTriangle.makeTimer(page: page)","...","timer.start()"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In both cases, pass your timer to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BlueTriangle\/endTimer(_:purchaseConfirmation:)"},{"type":"text","text":" to send it to the Blue Triangle server."}]},{"type":"codeListing","syntax":"swift","code":["BlueTriangle.endTimer(timer)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Running timers are automatically stopped when passed to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BlueTriangle\/endTimer(_:purchaseConfirmation:)"},{"type":"text","text":", though you can end timing earlier by calling the timer’s "},{"type":"reference","isActive":true,"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/end()"},{"type":"text","text":" method."}]},{"type":"codeListing","syntax":"swift","code":["timer.end()","...","\/\/ You must still pass the timer to `BlueTriangle.endTimer(_:)` to send it to the Blue Triangle server","BlueTriangle.endTimer(timer)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For timers that are associated with checkout, create a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/PurchaseConfirmation"},{"type":"text","text":" object to pass along with the timer to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BlueTriangle\/endTimer(_:purchaseConfirmation:)"},{"type":"text","text":":"}]},{"type":"codeListing","syntax":"swift","code":["timer.end()","let purchaseConfirmation = PurchaseConfirmation(cartValue: 99.00)","BlueTriangle.endTimer(timer, purchaseConfirmation: purchaseConfirmation)"]},{"anchor":"Timer-Types","level":3,"type":"heading","text":"Timer Types"},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BlueTriangle\/makeTimer(page:timerType:)"},{"type":"text","text":" and "},{"type":"reference","isActive":true,"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BlueTriangle\/startTimer(page:timerType:)"},{"type":"text","text":" have a "},{"type":"codeVoice","code":"timerType"},{"type":"text","text":" parameter to specify the type of the timer they return. By default, both methods return main timers with the type "},{"type":"reference","isActive":true,"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/TimerType\/main"},{"type":"text","text":". When "},{"type":"reference","isActive":true,"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/NetworkCapture"},{"type":"text","text":" is enabled, requests made with one of the "},{"type":"codeVoice","code":"bt"},{"type":"text","text":"-prefixed "},{"type":"codeVoice","code":"URLSession"},{"type":"text","text":" methods will be associated with the last main timer to have been started at the time the request completes. It is recommended to only have a single main timer running at any given time. If you need overlapping timers, create additional custom timers by specifying a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/TimerType\/custom"},{"type":"text","text":" timer type:"}]},{"type":"codeListing","syntax":"swift","code":["let mainTimer = BlueTriangle.startTimer(page: Page(pageName: \"MY_PAGE\"))","let customTimer = BlueTriangle.startTimer(page: Page(pageName: \"MY_OTHER_TIMER\"), timerType: .custom)","\/\/ ...","BlueTriangle.endTimer(mainTimer)","\/\/ ...","BlueTriangle.endTimer(customTimer)"]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/bluetriangle\/bttimer"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Create timers to measure responses to user interactions."}],"kind":"article","metadata":{"modules":[{"name":"BlueTriangle"}],"role":"article","title":"Using Timers"},"hierarchy":{"paths":[["doc:\/\/BlueTriangle\/documentation\/BlueTriangle"]]},"topicSections":[{"title":"Instance Properties","identifiers":["doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/endTime","doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/hasEnded","doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/interactiveTime","doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/page","doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/startTime","doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/state-swift.property","doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/type"]},{"title":"Instance Methods","identifiers":["doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/end()","doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/markInteractive()","doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/start()"]},{"title":"Enumerations","identifiers":["doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/State-swift.enum","doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/TimerType"]}],"references":{"doc://BlueTriangle/documentation/BlueTriangle":{"role":"collection","title":"BlueTriangle","abstract":[{"type":"text","text":"Blue Triangle analytics SDK for iOS."}],"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle","kind":"symbol","type":"topic","url":"\/documentation\/bluetriangle"},"doc://BlueTriangle/documentation/BlueTriangle/BTTimer/interactiveTime":{"role":"symbol","title":"interactiveTime","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"interactiveTime"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"TimeInterval","preciseIdentifier":"c:@T@NSTimeInterval"}],"abstract":[{"type":"text","text":"The epoch time interval at which the timer was marked interactive."}],"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/interactiveTime","kind":"symbol","type":"topic","url":"\/documentation\/bluetriangle\/bttimer\/interactivetime"},"doc://BlueTriangle/documentation/BlueTriangle/BTTimer/state-swift.property":{"role":"symbol","title":"state","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"state"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"State","preciseIdentifier":"s:12BlueTriangle7BTTimerC5StateO"}],"abstract":[{"type":"text","text":"The state of the timer."}],"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/state-swift.property","kind":"symbol","type":"topic","url":"\/documentation\/bluetriangle\/bttimer\/state-swift.property"},"doc://BlueTriangle/documentation/BlueTriangle/BTTimer/start()":{"role":"symbol","title":"start()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"start"},{"kind":"text","text":"()"}],"abstract":[{"type":"text","text":"Start the timer if not already started."}],"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/start()","kind":"symbol","type":"topic","url":"\/documentation\/bluetriangle\/bttimer\/start()"},"doc://BlueTriangle/documentation/BlueTriangle/Page":{"role":"symbol","title":"Page","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Page"}],"abstract":[{"type":"text","text":"An object describing a user interaction."}],"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/Page","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Page"}],"url":"\/documentation\/bluetriangle\/page"},"doc://BlueTriangle/documentation/BlueTriangle/BTTimer/markInteractive()":{"role":"symbol","title":"markInteractive()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"markInteractive"},{"kind":"text","text":"()"}],"abstract":[{"type":"text","text":"Mark the timer interactive at current time if the timer has been started and not"},{"type":"text","text":" "},{"type":"text","text":"already marked interactive."}],"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/markInteractive()","kind":"symbol","type":"topic","url":"\/documentation\/bluetriangle\/bttimer\/markinteractive()"},"doc://BlueTriangle/documentation/BlueTriangle/BTTimer/endTime":{"role":"symbol","title":"endTime","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"endTime"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"TimeInterval","preciseIdentifier":"c:@T@NSTimeInterval"}],"abstract":[{"type":"text","text":"The epoch time interval at which the timer was ended."}],"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/endTime","kind":"symbol","type":"topic","url":"\/documentation\/bluetriangle\/bttimer\/endtime"},"doc://BlueTriangle/documentation/BlueTriangle/BTTimer/page":{"role":"symbol","title":"page","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"page"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Page","preciseIdentifier":"c:@M@BlueTriangle@objc(cs)Page"}],"abstract":[{"type":"text","text":"An object describing the user interaction measured by the timer."}],"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/page","kind":"symbol","type":"topic","url":"\/documentation\/bluetriangle\/bttimer\/page"},"doc://BlueTriangle/documentation/BlueTriangle/BTTimer/TimerType/main":{"role":"symbol","title":"BTTimer.TimerType.main","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"main"}],"abstract":[{"type":"text","text":"A timer used to measure primary user interactions and identify captured network requests."}],"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/TimerType\/main","kind":"symbol","type":"topic","url":"\/documentation\/bluetriangle\/bttimer\/timertype\/main"},"doc://BlueTriangle/documentation/BlueTriangle/BTTimer/State-swift.enum":{"role":"symbol","title":"BTTimer.State","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"State"}],"abstract":[{"type":"text","text":"Describes the state of a timer."}],"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/State-swift.enum","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"State"}],"url":"\/documentation\/bluetriangle\/bttimer\/state-swift.enum"},"doc://BlueTriangle/documentation/BlueTriangle/BTTimer/end()":{"role":"symbol","title":"end()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"end"},{"kind":"text","text":"()"}],"abstract":[{"type":"text","text":"End the timer."}],"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/end()","kind":"symbol","type":"topic","url":"\/documentation\/bluetriangle\/bttimer\/end()"},"doc://BlueTriangle/documentation/BlueTriangle/BTTimer/type":{"role":"symbol","title":"type","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"type"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"TimerType","preciseIdentifier":"s:12BlueTriangle7BTTimerC9TimerTypeO"}],"abstract":[{"type":"text","text":"The type of the timer."}],"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/type","kind":"symbol","type":"topic","url":"\/documentation\/bluetriangle\/bttimer\/type"},"doc://BlueTriangle/documentation/BlueTriangle/BTTimer/hasEnded":{"role":"symbol","title":"hasEnded","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"hasEnded"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"}],"abstract":[],"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/hasEnded","kind":"symbol","type":"topic","url":"\/documentation\/bluetriangle\/bttimer\/hasended"},"doc://BlueTriangle/documentation/BlueTriangle/PurchaseConfirmation":{"role":"symbol","title":"PurchaseConfirmation","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"PurchaseConfirmation"}],"abstract":[{"type":"text","text":"An object describing a purchase confirmation interaction."}],"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/PurchaseConfirmation","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PurchaseConfirmation"}],"url":"\/documentation\/bluetriangle\/purchaseconfirmation"},"doc://BlueTriangle/documentation/BlueTriangle/BTTimer/startTime":{"role":"symbol","title":"startTime","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"startTime"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"TimeInterval","preciseIdentifier":"c:@T@NSTimeInterval"}],"abstract":[{"type":"text","text":"The epoch time interval at which the timer was started."}],"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/startTime","kind":"symbol","type":"topic","url":"\/documentation\/bluetriangle\/bttimer\/starttime"},"doc://BlueTriangle/documentation/BlueTriangle/BlueTriangle/endTimer(_:purchaseConfirmation:)":{"role":"symbol","title":"endTimer(_:purchaseConfirmation:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"endTimer"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"BTTimer","preciseIdentifier":"c:@M@BlueTriangle@objc(cs)BTTimer"},{"kind":"text","text":", "},{"kind":"externalParam","text":"purchaseConfirmation"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PurchaseConfirmation","preciseIdentifier":"c:@M@BlueTriangle@objc(cs)PurchaseConfirmation"},{"kind":"text","text":"?)"}],"abstract":[{"type":"text","text":"Ends a timer and upload it to Blue Triangle for processing."}],"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BlueTriangle\/endTimer(_:purchaseConfirmation:)","kind":"symbol","type":"topic","url":"\/documentation\/bluetriangle\/bluetriangle\/endtimer(_:purchaseconfirmation:)"},"doc://BlueTriangle/documentation/BlueTriangle/BTTimer/TimerType":{"role":"symbol","title":"BTTimer.TimerType","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"TimerType"}],"abstract":[{"type":"text","text":"Describes the timer type."}],"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/TimerType","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"TimerType"}],"url":"\/documentation\/bluetriangle\/bttimer\/timertype"},"doc://BlueTriangle/documentation/BlueTriangle/NetworkCapture":{"role":"article","title":"Network Capture","abstract":[{"type":"text","text":"The Blue Triangle SDK supports capturing network requests using either the "},{"type":"codeVoice","code":"NetworkCaptureSessionDelegate"},{"type":"text","text":" or "},{"type":"codeVoice","code":"bt"},{"type":"text","text":"-prefixed "},{"type":"codeVoice","code":"URLSession"},{"type":"text","text":" methods."}],"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/NetworkCapture","kind":"article","type":"topic","url":"\/documentation\/bluetriangle\/networkcapture"},"doc://BlueTriangle/documentation/BlueTriangle/BTTimer/TimerType/custom":{"role":"symbol","title":"BTTimer.TimerType.custom","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"custom"}],"abstract":[{"type":"text","text":"A timer used to measure additional interactions."}],"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BTTimer\/TimerType\/custom","kind":"symbol","type":"topic","url":"\/documentation\/bluetriangle\/bttimer\/timertype\/custom"},"doc://BlueTriangle/documentation/BlueTriangle/BlueTriangle/startTimer(page:timerType:)":{"role":"symbol","title":"startTimer(page:timerType:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"startTimer"},{"kind":"text","text":"("},{"kind":"externalParam","text":"page"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Page","preciseIdentifier":"c:@M@BlueTriangle@objc(cs)Page"},{"kind":"text","text":", "},{"kind":"externalParam","text":"timerType"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"BTTimer","preciseIdentifier":"c:@M@BlueTriangle@objc(cs)BTTimer"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"TimerType","preciseIdentifier":"s:12BlueTriangle7BTTimerC9TimerTypeO"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"BTTimer","preciseIdentifier":"c:@M@BlueTriangle@objc(cs)BTTimer"}],"abstract":[{"type":"text","text":"Creates a running timer to measure the duration of a user interaction."}],"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BlueTriangle\/startTimer(page:timerType:)","kind":"symbol","type":"topic","url":"\/documentation\/bluetriangle\/bluetriangle\/starttimer(page:timertype:)"},"doc://BlueTriangle/documentation/BlueTriangle/BlueTriangle/makeTimer(page:timerType:)":{"role":"symbol","title":"makeTimer(page:timerType:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"makeTimer"},{"kind":"text","text":"("},{"kind":"externalParam","text":"page"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Page","preciseIdentifier":"c:@M@BlueTriangle@objc(cs)Page"},{"kind":"text","text":", "},{"kind":"externalParam","text":"timerType"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"BTTimer","preciseIdentifier":"c:@M@BlueTriangle@objc(cs)BTTimer"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"TimerType","preciseIdentifier":"s:12BlueTriangle7BTTimerC9TimerTypeO"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"BTTimer","preciseIdentifier":"c:@M@BlueTriangle@objc(cs)BTTimer"}],"abstract":[{"type":"text","text":"Creates a timer timer to measure the duration of a user interaction."}],"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/BlueTriangle\/makeTimer(page:timerType:)","kind":"symbol","type":"topic","url":"\/documentation\/bluetriangle\/bluetriangle\/maketimer(page:timertype:)"}}}