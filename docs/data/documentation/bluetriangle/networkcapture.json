{"primaryContentSections":[{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The Blue Triangle SDK offers "},{"type":"codeVoice","code":"bt"},{"type":"text","text":"-prefixed versions of common "},{"type":"codeVoice","code":"URLSession"},{"type":"text","text":" methods that can be used to gather information about network requests when network capture is enabled:"}]},{"type":"table","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Standard"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Network Capture"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"URLSession.dataTask(with:completionHandler:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"URLSession.btDataTask(with:completionHandler:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"URLSession.data(for:delegate:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"URLSession.btData(for:delegate:)"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"URLSession.dataTaskPublisher(for:)"}]}],[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"URLSession.btDataTaskPublisher(for:)"}]}]]],"header":"row"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To enable network capture, configure the SDK with a non-zero network sample rate:"}]},{"type":"codeListing","syntax":"swift","code":["BlueTriangle.configure { config in","    ...","    config.networkSampleRate = 0.05","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"A value of "},{"type":"codeVoice","code":"0.05"},{"type":"text","text":", for example, means that network capture will be randomly enabled for 5% of user sessions. Network requests made using one of the "},{"type":"codeVoice","code":"bt"},{"type":"text","text":"-prefixed "},{"type":"codeVoice","code":"URLSession"},{"type":"text","text":" methods will be associated with the last main timer to have been started when a request completes:"}]},{"type":"codeListing","syntax":"swift","code":["let timer = BlueTriangle.startTimer(page: Page(pageName: \"MY_PAGE\"))","URLSession.shared.btDataTask(with: URL(string: \"https:\/\/example.com\")!) { data, response, error in","    \/\/ ...","}.resume()"]}]}],"schemaVersion":{"major":0,"minor":2,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/bluetriangle\/networkcapture"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle\/NetworkCapture","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Use "},{"type":"codeVoice","code":"bt"},{"type":"text","text":"-prefixed "},{"type":"codeVoice","code":"URLSession"},{"type":"text","text":" methods to gather information about network requests when network capture is enabled."}],"kind":"article","metadata":{"roleHeading":"Article","title":"Network Capture","role":"article","modules":[{"name":"BlueTriangle"}]},"hierarchy":{"paths":[["doc:\/\/BlueTriangle\/documentation\/BlueTriangle"]]},"references":{"doc://BlueTriangle/documentation/BlueTriangle":{"role":"collection","title":"BlueTriangle","abstract":[{"type":"text","text":"Blue Triangle analytics SDK for iOS."}],"identifier":"doc:\/\/BlueTriangle\/documentation\/BlueTriangle","kind":"symbol","type":"topic","url":"\/documentation\/bluetriangle"}}}